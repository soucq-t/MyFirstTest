
<!DOCTYPE html>
<html>

<head>
    <title>Let s drive a car</title>
    <style>
        #car {
            position: absolute;
        }

        #container {
            width: 450px;
            height: 4000px;
            position: relative;
            background-image: url("weg.jpg");
        }

        #driver {
            font-size: 50px;
            color: white;
        }
        .help {
            color:black;
        }
        
    </style>

    <script>
        debugger
        var i = 0;
       var allcars=document.querySelectorAll('.help');
       var time=null;
       var spot=0;
       var carspeed=0;
       function myMove(){
           spot=0;
         allcars=document.querySelectorAll('.help');
            time=setInterval(move,50)
       }
       function move(){
        
            spot=spot+10;
            for(var j=0;j<allcars.length;j++){
                allcars[j].style.marginLeft=spot+"px";
           }
           if(spot>=350){
               clearInterval(time);
           }
       }
        function start() {
            var shelp=document.getElementById('carspeed').value;
           // autospeed=shelp;
            var elem = document.getElementById(number.value);
            var pos = 0;
            var id = setInterval(frame, 2);
            var stop = 0;
            function frame() {

                if (pos >= 350) {
                    clearInterval(id);
                } else if (pos != 350) {
                    if(shelp==0){
                         pos=pos+1;
                    }else if(shelp==1){
                        pos=pos+2;
                    }else {
                        pos=pos+3;
                    }
                   
                    elem.style.marginLeft = pos + "px";
                }


            }
        }
        function erzeugen(driver) {

            // var name = "https://image.flaticon.com/icons/png/512/26/26883.png";
            var div = document.createElement("div");
            div.id = "div" + i;
            switch (selectfarbe.value) {
                case "red": name = 'https://www.colourbox.de/preview/5558928-icon-auto-rot.jpg'; break;
                case "blue": name = 'https://www.colourbox.de/preview/5558902-icon-auto-blau.jpg'; break;
                case "yellow": name = 'https://www.colourbox.de/preview/5558933-icon-auto-gelb.jpg'; break;
            }
            
            var img = document.createElement('img');
            img.src = name;
            img.width = "45";
            //img.id = "car" + i;
           // img.className="help"; 
            div.className="help";
            div.appendChild(img);
            document.getElementById('carpic').appendChild(div);
            

            var option = document.createElement("option");
            option.text = driver;
            option.value = 'div' + i;
            var select = document.getElementById("number");
            select.appendChild(option);

            var text = document.createTextNode(driver);
            text.id = "driver";
            div.appendChild(text);
            div.style.color = "black";
            div.style.fontSize = 15;
            document.getElementById('carpic').appendChild(div);


            i++;
        }

        function back() {
            allcars=document.querySelectorAll('.help');
            var elem = document.getElementById("carpic");
            elem.style.marginLeft = 0 + "px";

            var help;
            for(var j=0;j<allcars.length;j++){
                allcars[j].style.marginLeft=0+"px";
           }
        }

        function backeinzel() {
            var elem = document.getElementById(number.value);
            elem.style.marginLeft = 0 + "px";
        }
    </script>
</head>

<body>
    <p>name</p>
    <input type="text" id="car">
    
    <p>color of car</p>
    <select id="selectfarbe">
        <option value="red">red</option>
        <option value="blue">blue</option>
        <option value="yellow">yellow</option>
    </select>
    <br><br>

    <button type="button" onclick="erzeugen(car.value)">create car</button>
    <br><br><br>
    <button type="button" onclick="myMove()">all car start</button>
    <button type="button" onclick="back()">all car reset</button>
    <br><br>
    <p>Which car should start / reset</p>
    <select id="number">
    </select>
    <p>Speed for a car</p>
    <select id="carspeed">
        <option value="0">Low</option>
        <option value="1">Middle</option>
        <option value="2">Max</option>
    </select>
    <button type="button" onclick="start()">chosen car start</button>
    <button type="button" onclick="backeinzel()">chosen car reset</button>
    <div id="container">
        <div id="carpic">
        </div>
    </div>
    
</body>

</html>